# LinearAlgebra_cuda å·¥å…·ä½¿ç”¨æŒ‡å—

**æ›´æ–°æ—¥æœŸ**: 2025-10-14  
**åŒ…å«å·¥å…·**: 4ä¸ªè„šæœ¬

---

## ğŸ“‹ å·¥å…·æ¸…å•

| å·¥å…· | ç±»å‹ | ç”¨é€” | ä¼˜å…ˆçº§ |
|------|------|------|--------|
| `rebuild.py` | Python | è‡ªåŠ¨åŒ–æ„å»ºè„šæœ¬ | â­â­â­â­â­ |
| `env_setup.sh` | Bash | ç¯å¢ƒé…ç½®è„šæœ¬ | â­â­â­â­â­ |
| `build.sh` | Bash | ä¼ ç»Ÿæ„å»ºè„šæœ¬ | â­â­â­ |
| `run_benchmarks.sh` | Bash | è¿è¡Œæ‰€æœ‰æµ‹è¯• | â­â­â­ |

---

## ğŸ”§ å·¥å…· 1: rebuild.pyï¼ˆæ¨èï¼‰â­

### åŠŸèƒ½

**è‡ªåŠ¨åŒ– CMake æ„å»ºè„šæœ¬**ï¼Œæ”¯æŒï¼š
- âœ… è‡ªåŠ¨æ¸…ç†æ—§æ„å»º
- âœ… è‡ªåŠ¨é…ç½® CMake
- âœ… å¹¶è¡Œç¼–è¯‘
- âœ… å½©è‰²è¾“å‡º
- âœ… åˆ—å‡ºç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶
- âœ… æ”¯æŒç¯å¢ƒå˜é‡é…ç½®
- âœ… å¤šç§æ„å»ºé€‰é¡¹

### åŸºæœ¬ç”¨æ³•

```bash
# æ ‡å‡†æ„å»ºï¼ˆæ¸…ç† + é…ç½® + ç¼–è¯‘ï¼‰
python3 rebuild.py

# ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®ï¼ˆæ¨èï¼‰
source env_setup.sh
python3 rebuild.py --use-env
```

### æ‰€æœ‰å‚æ•°

```bash
python3 rebuild.py [é€‰é¡¹]

é€‰é¡¹:
  --clean-only              ä»…æ¸…ç†æ„å»ºï¼Œä¸ç¼–è¯‘
  --jobs N, -j N            ä½¿ç”¨ N ä¸ªå¹¶è¡Œä»»åŠ¡ï¼ˆé»˜è®¤ï¼šCPUæ ¸å¿ƒæ•°ï¼‰
  --build-type TYPE         Release æˆ– Debugï¼ˆé»˜è®¤ï¼šReleaseï¼‰
  --use-env                 ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®è·¯å¾„
  --no-cmake                è·³è¿‡ CMake é…ç½®ï¼Œä»…ç¼–è¯‘
  --help, -h                æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

### ä½¿ç”¨ç¤ºä¾‹

```bash
# ç¤ºä¾‹ 1: é¦–æ¬¡æ„å»º
python3 rebuild.py

# ç¤ºä¾‹ 2: ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰
source env_setup.sh
python3 rebuild.py --use-env

# ç¤ºä¾‹ 3: å¿«é€Ÿé‡ç¼–è¯‘ï¼ˆä¿®æ”¹ä»£ç åï¼‰
python3 rebuild.py --no-cmake

# ç¤ºä¾‹ 4: Debug æ¨¡å¼ç¼–è¯‘
python3 rebuild.py --build-type Debug

# ç¤ºä¾‹ 5: ä½¿ç”¨ 16 ä¸ªçº¿ç¨‹ç¼–è¯‘ï¼ˆé«˜æ€§èƒ½æœºå™¨ï¼‰
python3 rebuild.py --jobs 16

# ç¤ºä¾‹ 6: ä»…æ¸…ç†
python3 rebuild.py --clean-only

# ç¤ºä¾‹ 7: å®Œæ•´çš„å·¥ä½œæµ
source env_setup.sh
python3 rebuild.py --use-env --jobs 12
```

### è¾“å‡ºç¤ºä¾‹

```
======================================================================
                       LinearAlgebra_cuda æ„å»ºè„šæœ¬                        
======================================================================

é¡¹ç›®ç›®å½•: /home/zzy/Plasma/gpu/LinearAlgebra_cuda
æ„å»ºç›®å½•: /home/zzy/Plasma/gpu/LinearAlgebra_cuda/build

[æ­¥éª¤ 1] æ¸…ç†æ—§æ„å»ºæ–‡ä»¶
  åˆ é™¤ç›®å½•: /home/zzy/Plasma/gpu/LinearAlgebra_cuda/build
âœ… æ—§æ„å»ºæ–‡ä»¶å·²æ¸…ç†
  åˆ›å»ºç›®å½•: /home/zzy/Plasma/gpu/LinearAlgebra_cuda/build

[æ­¥éª¤ 2] é…ç½® CMake (æ„å»ºç±»å‹: Release)
  ä½¿ç”¨ CMakeLists.txt ä¸­çš„é»˜è®¤è·¯å¾„
  
  è¿è¡Œ: cmake .. -DCMAKE_BUILD_TYPE=Release
  
... (CMake è¾“å‡º) ...
âœ… CMake é…ç½®æˆåŠŸ

[æ­¥éª¤ 3] ç¼–è¯‘é¡¹ç›®
  ä½¿ç”¨ 8 ä¸ªå¹¶è¡Œä»»åŠ¡
  è¿è¡Œ: make -j8
  
... (ç¼–è¯‘è¾“å‡º) ...
âœ… ç¼–è¯‘æˆåŠŸ

[æ­¥éª¤ 4] åˆ—å‡ºç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶

  æ‰¾åˆ° 8 ä¸ªå¯æ‰§è¡Œæ–‡ä»¶:

    âœ… ./amgx_gpu_native_tests/amgx_gpu_native_poisson_solver (1.7 MB)
    âœ… ./amgx_tests/amgx_poisson_solver (1.7 MB)
    ...

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ä¸‹ä¸€æ­¥æ“ä½œ:

  1. è¿è¡Œæµ‹è¯•:
     cd build
     ./amgx_gpu_native_tests/amgx_gpu_native_poisson_solver
     
  ...
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ… æ„å»ºå®Œæˆï¼
```

---

## ğŸŒ å·¥å…· 2: env_setup.shï¼ˆæ¨èï¼‰â­

### åŠŸèƒ½

**ç¯å¢ƒé…ç½®è„šæœ¬**ï¼Œç”¨äºï¼š
- âœ… é›†ä¸­ç®¡ç†åº“è·¯å¾„
- âœ… è®¾ç½®ç¯å¢ƒå˜é‡
- âœ… é…ç½®è¿è¡Œæ—¶åº“è·¯å¾„
- âœ… éªŒè¯è·¯å¾„æ˜¯å¦æ­£ç¡®
- âœ… ä¾¿äºåœ¨ä¸åŒç¯å¢ƒé—´åˆ‡æ¢

### ä½¿ç”¨æ–¹æ³•

```bash
# 1. ç¼–è¾‘é…ç½®æ–‡ä»¶
vim env_setup.sh

# 2. ä¿®æ”¹ç¬¬ 10-20 è¡Œçš„è·¯å¾„
export AMGX_DIR="/your/path/to/amgx/install"
export HYPRE_CPU_DIR="/your/path/to/hypre_cpu"
export HYPRE_GPU_DIR="/your/path/to/hypre_gpu"
export PETSC_DIR="/your/path/to/petsc-gpu/install"
export YAML_CPP_DIR="/your/path/to/yaml-cpp-master"

# 3. åŠ è½½ç¯å¢ƒå˜é‡
source env_setup.sh
```

### è¾“å‡ºç¤ºä¾‹

```
================================================
LinearAlgebra_cuda ç¯å¢ƒé…ç½®å·²åŠ è½½
================================================

åº“è·¯å¾„:
  AMGX_DIR       = /home/zzy/Plasma/gpu/amgx/install
  HYPRE_CPU_DIR  = /home/zzy/Plasma/gpu/hypre_cpu
  HYPRE_GPU_DIR  = /home/zzy/Plasma/gpu/hypre_gpu
  PETSC_DIR      = /home/zzy/Plasma/gpu/petsc-gpu/install
  YAML_CPP_DIR   = /home/zzy/Plasma/gpu/ltpDeps-v2412/extract/yaml-cpp-master

CUDA è·¯å¾„:
  CUDA_HOME      = /usr/local/cuda

ä½¿ç”¨æ–¹æ³•:
  1. ä¿®æ”¹æœ¬æ–‡ä»¶ä¸­çš„è·¯å¾„ï¼ˆç¬¬ 10-20 è¡Œï¼‰
  2. source env_setup.sh
  3. python3 rebuild.py

================================================
```

### å¯é€‰åŠŸèƒ½ï¼šè·¯å¾„éªŒè¯

åœ¨ `env_setup.sh` æ–‡ä»¶æœ«å°¾ï¼Œå–æ¶ˆæ³¨é‡Šï¼š
```bash
# è‡ªåŠ¨éªŒè¯ï¼ˆæ³¨é‡Šæ‰æ­¤è¡Œå¯ç¦ç”¨è‡ªåŠ¨éªŒè¯ï¼‰
verify_paths  # â† åˆ é™¤å‰é¢çš„ #
```

ä¼šè‡ªåŠ¨æ£€æŸ¥æ‰€æœ‰åº“æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼š
```
éªŒè¯åº“è·¯å¾„...
  âœ… AMGX: /home/zzy/Plasma/gpu/amgx/install
  âœ… HYPRE CPU: /home/zzy/Plasma/gpu/hypre_cpu
  âœ… HYPRE GPU: /home/zzy/Plasma/gpu/hypre_gpu
  âœ… PETSc: /home/zzy/Plasma/gpu/petsc-gpu/install
  âœ… yaml-cpp: /home/zzy/Plasma/gpu/ltpDeps-v2412/extract/yaml-cpp-master

âœ… æ‰€æœ‰åº“è·¯å¾„éªŒè¯é€šè¿‡ï¼
```

---

## ğŸ”¨ å·¥å…· 3: build.shï¼ˆä¼ ç»Ÿï¼‰

### åŠŸèƒ½

**ä¼ ç»Ÿæ„å»ºè„šæœ¬**ï¼Œç®€å•ç›´æ¥ï¼š
- âœ… æ¸…ç†æ—§æ„å»º
- âœ… è¿è¡Œ CMake
- âœ… è¿è¡Œ Make
- âŒ ä¸æ”¯æŒç¯å¢ƒå˜é‡
- âŒ è¾“å‡ºè¾ƒå°‘

### ä½¿ç”¨æ–¹æ³•

```bash
./build.sh
```

### ä½•æ—¶ä½¿ç”¨

- å¿«é€Ÿæ„å»º
- ä¸éœ€è¦ä¿®æ”¹è·¯å¾„
- ä¹ æƒ¯ä¼ ç»Ÿè„šæœ¬

**å»ºè®®**: å¯¹äºæ¢ç”µè„‘åœºæ™¯ï¼Œ**æ¨èä½¿ç”¨ `rebuild.py`**

---

## ğŸƒ å·¥å…· 4: run_benchmarks.sh

### åŠŸèƒ½

**è¿è¡Œæ‰€æœ‰æµ‹è¯•è„šæœ¬**ï¼ˆå¦‚æœå­˜åœ¨ï¼‰

### ä½¿ç”¨æ–¹æ³•

```bash
./run_benchmarks.sh
```

ä¼šä¾æ¬¡è¿è¡Œæ‰€æœ‰æµ‹è¯•æ¨¡å—ã€‚

---

## ğŸ’¡ æ¨èå·¥ä½œæµ

### å·¥ä½œæµ 1: æ¢ç”µè„‘ï¼ˆæ¨èï¼‰â­

```bash
# 1. ç¼–è¾‘é…ç½®
vim env_setup.sh
# ä¿®æ”¹åº“è·¯å¾„

# 2. åŠ è½½ç¯å¢ƒ
source env_setup.sh
# æ£€æŸ¥è·¯å¾„æ˜¯å¦æ­£ç¡®

# 3. æ„å»ºé¡¹ç›®
python3 rebuild.py --use-env
# è‡ªåŠ¨åŒ–æ„å»º

# 4. è¿è¡Œæµ‹è¯•
cd build
./amgx_gpu_native_tests/amgx_gpu_native_poisson_solver
```

### å·¥ä½œæµ 2: ä¿®æ”¹ä»£ç åé‡ç¼–è¯‘

```bash
# ä¿®æ”¹äº†æºä»£ç  (.cpp/.cu)
python3 rebuild.py --no-cmake
# è·³è¿‡ CMakeï¼Œç›´æ¥ç¼–è¯‘ï¼ˆæ›´å¿«ï¼‰
```

### å·¥ä½œæµ 3: ä¿®æ”¹é…ç½®åé‡ç¼–è¯‘

```bash
# ä¿®æ”¹äº† solver_config.yaml
# æ— éœ€é‡æ–°ç¼–è¯‘ï¼Œç›´æ¥è¿è¡Œæµ‹è¯•å³å¯
cd build
./amgx_gpu_native_tests/amgx_gpu_native_poisson_solver
```

### å·¥ä½œæµ 4: ä¿®æ”¹ CMakeLists.txt å

```bash
# ä¿®æ”¹äº† CMakeLists.txt æˆ–æ·»åŠ äº†æ–°æ¨¡å—
python3 rebuild.py
# å®Œæ•´é‡æ–°æ„å»º
```

### å·¥ä½œæµ 5: Debug è°ƒè¯•

```bash
# 1. Debug æ¨¡å¼ç¼–è¯‘
python3 rebuild.py --build-type Debug

# 2. ä½¿ç”¨ gdb è°ƒè¯•
cd build
gdb ./amgx_tests/amgx_poisson_solver
```

---

## ğŸ” å¯¹æ¯”ï¼šå„å·¥å…·çš„ä¼˜ç¼ºç‚¹

### rebuild.py (Python)

**ä¼˜ç‚¹**:
- âœ… åŠŸèƒ½æœ€å…¨é¢
- âœ… å½©è‰²è¾“å‡ºï¼Œæ˜“äºé˜…è¯»
- âœ… é”™è¯¯æç¤ºè¯¦ç»†
- âœ… æ”¯æŒå¤šç§å‚æ•°
- âœ… åˆ—å‡ºç”Ÿæˆçš„æ–‡ä»¶
- âœ… æ”¯æŒç¯å¢ƒå˜é‡

**ç¼ºç‚¹**:
- âš ï¸ éœ€è¦ Python 3

**æ¨èåœºæ™¯**: æ—¥å¸¸ä½¿ç”¨ã€æ¢ç”µè„‘ã€å›¢é˜Ÿåä½œ

### build.sh (Bash)

**ä¼˜ç‚¹**:
- âœ… ç®€å•ç›´æ¥
- âœ… æ— éœ€ Python
- âœ… ä¼ ç»Ÿä¹ æƒ¯

**ç¼ºç‚¹**:
- âŒ åŠŸèƒ½æœ‰é™
- âŒ ä¸æ”¯æŒç¯å¢ƒå˜é‡
- âŒ è¾“å‡ºè¾ƒå°‘

**æ¨èåœºæ™¯**: å¿«é€Ÿæ„å»ºã€è‡ªåŠ¨åŒ–è„šæœ¬

### env_setup.sh (Bash)

**ä¼˜ç‚¹**:
- âœ… é…ç½®ä¸ä»£ç åˆ†ç¦»
- âœ… ä¾¿äºå›¢é˜Ÿå…±äº«
- âœ… æ”¯æŒè·¯å¾„éªŒè¯
- âœ… æ¸…æ™°æ˜¾ç¤ºé…ç½®

**ç¼ºç‚¹**:
- âš ï¸ éœ€è¦ `source` è€Œéç›´æ¥è¿è¡Œ

**æ¨èåœºæ™¯**: æ‰€æœ‰éœ€è¦é…ç½®è·¯å¾„çš„åœºæ™¯

---

## ğŸ¯ å¸¸è§ä»»åŠ¡å¿«é€Ÿå‚è€ƒ

| ä»»åŠ¡ | å‘½ä»¤ |
|------|------|
| **é¦–æ¬¡ä½¿ç”¨** | `./build.sh` |
| **æ¢ç”µè„‘** | `vim env_setup.sh` â†’ `source env_setup.sh` â†’ `python3 rebuild.py --use-env` |
| **ä¿®æ”¹ä»£ç ** | `python3 rebuild.py --no-cmake` |
| **ä¿®æ”¹é…ç½®** | æ— éœ€é‡ç¼–è¯‘ï¼Œç›´æ¥è¿è¡Œæµ‹è¯• |
| **æ¸…ç†æ„å»º** | `python3 rebuild.py --clean-only` |
| **Debugæ¨¡å¼** | `python3 rebuild.py --build-type Debug` |
| **å¿«é€Ÿé‡ç¼–è¯‘** | `python3 rebuild.py --no-cmake -j16` |
| **éªŒè¯è·¯å¾„** | `source env_setup.sh`ï¼ˆæŸ¥çœ‹è¾“å‡ºï¼‰ |

---

## ğŸ“ æ¢ç”µè„‘å®Œæ•´ç¤ºä¾‹

### åœºæ™¯: ä»å®éªŒå®¤ç”µè„‘è¿ç§»åˆ°å·¥ä½œç«™

#### åœ¨å®éªŒå®¤ç”µè„‘ä¸Š

```bash
cd /home/zzy/Plasma/gpu
tar czf LinearAlgebra_cuda.tar.gz LinearAlgebra_cuda/
scp LinearAlgebra_cuda.tar.gz workstation:/home/user/
```

#### åœ¨å·¥ä½œç«™ä¸Š

```bash
# 1. è§£å‹
cd /home/user
tar xzf LinearAlgebra_cuda.tar.gz
cd LinearAlgebra_cuda

# 2. ç¼–è¾‘é…ç½®ï¼ˆå‡è®¾åº“åœ¨ /opt/ï¼‰
vim env_setup.sh

# ä¿®æ”¹ä¸º:
# export AMGX_DIR="/opt/amgx/install"
# export HYPRE_CPU_DIR="/opt/hypre_cpu"
# export HYPRE_GPU_DIR="/opt/hypre_gpu"
# export PETSC_DIR="/opt/petsc-gpu/install"
# export YAML_CPP_DIR="/opt/yaml-cpp"

# 3. åŠ è½½ç¯å¢ƒ
source env_setup.sh

# 4. æ„å»º
python3 rebuild.py --use-env

# 5. æµ‹è¯•
cd build
./amgx_gpu_native_tests/amgx_gpu_native_poisson_solver

# å®Œæˆï¼
```

---

## ğŸš¨ æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: rebuild.py æ‰¾ä¸åˆ°

**é”™è¯¯**: `python3: command not found` æˆ– `rebuild.py: No such file`

**è§£å†³**:
```bash
# æ£€æŸ¥ Python
which python3
python3 --version  # éœ€è¦ 3.6+

# æ£€æŸ¥æ–‡ä»¶
ls -lh rebuild.py
chmod +x rebuild.py  # ç¡®ä¿å¯æ‰§è¡Œ
```

### é—®é¢˜ 2: env_setup.sh æ— æ•ˆ

**é”™è¯¯**: è¿è¡Œåç¯å¢ƒå˜é‡æœªè®¾ç½®

**åŸå› **: ç›´æ¥è¿è¡Œè€Œé `source`

**è§£å†³**:
```bash
# é”™è¯¯æ–¹å¼
./env_setup.sh  # âŒ ç¯å¢ƒå˜é‡ä»…åœ¨å­shellä¸­

# æ­£ç¡®æ–¹å¼
source env_setup.sh  # âœ… ç¯å¢ƒå˜é‡åœ¨å½“å‰shellä¸­
```

### é—®é¢˜ 3: åº“è·¯å¾„é”™è¯¯

**é”™è¯¯**: `CMake Error: Could not find AMGX`

**è§£å†³**:
```bash
# 1. æ£€æŸ¥ç¯å¢ƒå˜é‡
echo $AMGX_DIR

# 2. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls $AMGX_DIR/lib/libamgxsh.so

# 3. å¦‚æœè·¯å¾„é”™è¯¯ï¼Œé‡æ–°ç¼–è¾‘
vim env_setup.sh
source env_setup.sh

# 4. é‡æ–°æ„å»º
python3 rebuild.py --use-env
```

---

## ğŸ’¡ é«˜çº§æŠ€å·§

### æŠ€å·§ 1: åˆ›å»ºå¤šå¥—é…ç½®

ä¸ºä¸åŒç¯å¢ƒåˆ›å»ºä¸åŒçš„é…ç½®æ–‡ä»¶ï¼š

```bash
# å®éªŒå®¤ç¯å¢ƒ
cp env_setup.sh env_setup_lab.sh
vim env_setup_lab.sh  # é…ç½®å®éªŒå®¤è·¯å¾„

# å·¥ä½œç«™ç¯å¢ƒ
cp env_setup.sh env_setup_workstation.sh
vim env_setup_workstation.sh  # é…ç½®å·¥ä½œç«™è·¯å¾„

# ä½¿ç”¨æ—¶
source env_setup_lab.sh  # æˆ–
source env_setup_workstation.sh
```

### æŠ€å·§ 2: æ·»åŠ åˆ° .bashrcï¼ˆè‡ªåŠ¨åŠ è½½ï¼‰

å¦‚æœæ€»æ˜¯ä½¿ç”¨ç›¸åŒè·¯å¾„ï¼š

```bash
# åœ¨ ~/.bashrc æœ«å°¾æ·»åŠ 
echo "source /home/user/LinearAlgebra_cuda/env_setup.sh" >> ~/.bashrc

# é‡æ–°åŠ è½½
source ~/.bashrc

# ä¹‹åæ¯æ¬¡æ‰“å¼€ç»ˆç«¯éƒ½ä¼šè‡ªåŠ¨åŠ è½½
```

### æŠ€å·§ 3: ä½¿ç”¨åˆ«å

åœ¨ `~/.bashrc` ä¸­æ·»åŠ ï¼š

```bash
alias lrebuild='cd /home/user/LinearAlgebra_cuda && python3 rebuild.py'
alias ltest='cd /home/user/LinearAlgebra_cuda/build'
alias lresults='cd /home/user/LinearAlgebra_cuda/results && ls -lh'

# ä½¿ç”¨
lrebuild --use-env    # å¿«é€Ÿæ„å»º
ltest                 # å¿«é€Ÿè·³è½¬åˆ°æ„å»ºç›®å½•
lresults              # æŸ¥çœ‹ç»“æœ
```

### æŠ€å·§ 4: å¢é‡ç¼–è¯‘ï¼ˆä¿®æ”¹å•ä¸ªæ–‡ä»¶ï¼‰

```bash
# ä¿®æ”¹äº† amgx_tests/poisson_solver.cpp

# æ–¹æ³• 1: ä½¿ç”¨ rebuild.pyï¼ˆæ¨èï¼‰
python3 rebuild.py --no-cmake

# æ–¹æ³• 2: ç›´æ¥ make
cd build
make -j8

# æ–¹æ³• 2 æ›´å¿«ï¼Œä½†ä»…é€‚åˆå°æ”¹åŠ¨
```

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| ä»»åŠ¡ | build.sh | rebuild.py | rebuild.py --no-cmake |
|------|----------|------------|----------------------|
| å®Œæ•´æ„å»º | 30-40s | 30-40s | - |
| é‡æ–°é…ç½® | 30-40s | 30-40s | - |
| ä»…ç¼–è¯‘ | - | - | 10-15s |
| æ¸…ç† | æ‰‹åŠ¨ `rm -rf` | `--clean-only` | - |

**ç»“è®º**: `rebuild.py --no-cmake` æœ€å¿«ï¼ˆé€‚åˆä»£ç ä¿®æ”¹åï¼‰

---

## ğŸ“ æœ€ä½³å®è·µ

### æ¨èçš„ç›®å½•ç»“æ„

```
~/projects/
â”œâ”€â”€ libraries/              # åº“å®‰è£…ç›®å½•
â”‚   â”œâ”€â”€ amgx/
â”‚   â”œâ”€â”€ hypre_cpu/
â”‚   â”œâ”€â”€ hypre_gpu/
â”‚   â”œâ”€â”€ petsc-gpu/
â”‚   â””â”€â”€ yaml-cpp/
â”‚
â””â”€â”€ LinearAlgebra_cuda/     # é¡¹ç›®ç›®å½•
    â”œâ”€â”€ env_setup.sh        # é…ç½®ä¸º ~/projects/libraries/*
    â”œâ”€â”€ rebuild.py
    â””â”€â”€ ...
```

### æ¨èçš„å·¥ä½œæµç¨‹

```bash
# æ¯å¤©å¼€å§‹å·¥ä½œ
cd ~/projects/LinearAlgebra_cuda
source env_setup.sh

# ä¿®æ”¹ä»£ç 
vim amgx_tests/poisson_solver.cpp

# å¿«é€Ÿé‡ç¼–è¯‘
python3 rebuild.py --no-cmake

# æµ‹è¯•
cd build
./amgx_tests/amgx_poisson_solver

# æŸ¥çœ‹ç»“æœ
cd ../results
cat amgx_results.csv
```

---

## ğŸ“– ç›¸å…³æ–‡æ¡£

- **ä½¿ç”¨è¯´æ˜_æ¢ç”µè„‘.md**: æ¢ç”µè„‘å¿«é€Ÿä¸Šæ‰‹
- **ç§»æ¤æŒ‡å—.md**: è¯¦ç»†çš„ç§»æ¤æ­¥éª¤
- **README.md**: é¡¹ç›®ä¸»é¡µ

---

## âœ… æ€»ç»“

**æœ€ç®€å•çš„ä½¿ç”¨æ–¹æ³•**:

```bash
# æ¢ç”µè„‘å
vim env_setup.sh              # ä¿®æ”¹ 5 è¡Œè·¯å¾„
source env_setup.sh           # åŠ è½½ç¯å¢ƒ
python3 rebuild.py --use-env  # ä¸€é”®æ„å»º
```

**3 ä¸ªå‘½ä»¤ï¼Œå®Œæˆè¿ç§»ï¼** âœ…

